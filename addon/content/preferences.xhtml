<vbox xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
      xmlns:html="http://www.w3.org/1999/xhtml"
      onload="Zotero.__addonInstance__.hooks.onPrefsEvent('load', { window });">

  <groupbox>
    <label><html:h2>ZoteroTLDR Settings</html:h2></label>

    <hbox align="center">
      <label value="API Base URL:" style="width: 120px"/>
      <html:input type="text" id="zotero-prefpane-__addonRef__-apiBase"
        preference="extensions.zotero.__addonRef__.apiBase" style="width: 350px"/>
    </hbox>

    <hbox align="center">
      <label value="API Key:" style="width: 120px"/>
      <html:input type="password" id="zotero-prefpane-__addonRef__-apiKey"
        preference="extensions.zotero.__addonRef__.apiKey" style="width: 350px"/>
    </hbox>

    <hbox align="center">
      <label value="Model:" style="width: 120px"/>
      <html:input type="text" id="zotero-prefpane-__addonRef__-model"
        preference="extensions.zotero.__addonRef__.model" style="width: 180px"/>
      <label value="Temperature:" style="margin-left: 20px"/>
      <html:input type="number" step="0.1" min="0" max="2"
        id="zotero-prefpane-__addonRef__-temperature"
        preference="extensions.zotero.__addonRef__.temperature" style="width: 70px"/>
    </hbox>

    <hbox align="center">
      <label value="PDF Parse Mode:" style="width: 120px"/>
      <html:select id="zotero-prefpane-__addonRef__-pdfParseMode"
        preference="extensions.zotero.__addonRef__.pdfParseMode" style="width: 180px">
        <html:option value="remote">Remote (upload PDF)</html:option>
        <html:option value="local">Local (extract text)</html:option>
      </html:select>
    </hbox>

    <hbox align="center">
      <label value="Enable Thoughts:" style="width: 120px"/>
      <checkbox id="zotero-prefpane-__addonRef__-enableThoughts"
        preference="extensions.zotero.__addonRef__.enableThoughts"/>
      <label value="Thinking Budget:" style="margin-left: 20px"/>
      <html:input type="number" id="zotero-prefpane-__addonRef__-thinkingBudget"
        preference="extensions.zotero.__addonRef__.thinkingBudget" style="width: 80px"/>
    </hbox>

    <hbox align="center">
      <label value="Concurrency:" style="width: 120px"/>
      <html:input type="number" min="1" max="10"
        id="zotero-prefpane-__addonRef__-concurrency"
        preference="extensions.zotero.__addonRef__.concurrency" style="width: 70px"/>
      <label value="Max Chars:" style="margin-left: 20px"/>
      <html:input type="number" min="10000" max="2000000"
        id="zotero-prefpane-__addonRef__-maxChars"
        preference="extensions.zotero.__addonRef__.maxChars" style="width: 100px"/>
    </hbox>

    <hbox align="center">
      <label value="Rate Limit:" style="width: 120px"/>
      <html:input type="number" min="1" max="100"
        id="zotero-prefpane-__addonRef__-rateLimitCount"
        preference="extensions.zotero.__addonRef__.rateLimitCount" style="width: 70px"/>
      <label value="requests per" style="margin-left: 5px"/>
      <html:input type="number" min="1" max="60"
        id="zotero-prefpane-__addonRef__-rateLimitWindowMinutes"
        preference="extensions.zotero.__addonRef__.rateLimitWindowMinutes" style="width: 70px"/>
      <label value="minutes" style="margin-left: 5px"/>
    </hbox>

    <hbox align="center">
      <label value="PDF Filter:" style="width: 120px"/>
      <html:input type="text" id="zotero-prefpane-__addonRef__-attachmentFilter"
        preference="extensions.zotero.__addonRef__.attachmentFilter" style="width: 250px"/>
    </hbox>

    <vbox>
      <label value="Prompt Template:"/>
      <html:textarea id="zotero-prefpane-__addonRef__-prompt"
        preference="extensions.zotero.__addonRef__.prompt" rows="8" style="width: 100%;"/>
    </vbox>

    <hbox>
      <button id="zotero-prefpane-__addonRef__-apitest" label="Test API"/>
    </hbox>
  </groupbox>

  <label value="v__buildVersion__" style="color: #888; font-size: 11px; margin-top: 10px"/>
</vbox>
